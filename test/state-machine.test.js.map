{
  "version": 3,
  "file": "state-machine.test.js",
  "sourceRoot": "..\\",
  "sources": [
    "test\\state-machine.test.coffee"
  ],
  "names": [],
  "mappings": "AAA2B;AAE3B,OAAA;EACC,KADD;EACQ,OADR;EACiB,UADjB;EAC6B,IAD7B;EACmC,SADnC;CAAA,MAAA;;AAGA,OAAA;EAAQ,wBAAR;CAAA,MAAA;;AACA,OAAA;EAAQ,KAAR;CAAA,MAAA;;AACA,OAAA;EAAQ,YAAR;CAAA,MAAA;;AAEA,wBAAA,CAAA,EAT2B;;;AAa3B,CAAC,QAAA,CAAA,CAAA;AACD,MAAA;EAAC,IAAA,GAAO,IAAI,YAAJ,CAAiB,MAAjB,EAAyB;IAAC,IAAA,EAAM,IAAP;IAAa,GAAA,EAAK;EAAlB,CAAzB;EAEP,KAAK,CAAC,MAAN,CAAa,IAAI,CAAC,OAAL,CAAa,MAAb,CAAb;EACA,KAAK,CAAC,KAAN,CAAa,IAAI,CAAC,OAAL,CAAa,KAAb,CAAb;EACA,KAAK,CAAC,KAAN,CAAa,IAAI,CAAC,KAAlB,EAAyB,MAAzB;EACA,KAAK,CAAC,QAAN,CAAe,CAAA,CAAA,GAAA;WAAM,IAAI,CAAC,WAAL,CAAiB,MAAjB,EAAwB,KAAxB;EAAN,CAAf;EACA,KAAK,CAAC,MAAN,CAAa,CAAA,CAAA,GAAA;WAAM,IAAI,CAAC,WAAL,CAAiB,KAAjB,EAAuB,KAAvB;EAAN,CAAb;EACA,KAAK,CAAC,QAAN,CAAe,CAAA,CAAA,GAAA;WAAM,IAAI,CAAC,aAAL,CAAmB,MAAnB,EAA0B,KAA1B;EAAN,CAAf;EACA,KAAK,CAAC,MAAN,CAAa,CAAA,CAAA,GAAA;WAAM,IAAI,CAAC,aAAL,CAAmB,MAAnB,EAA0B,KAA1B,EAAgC,QAAhC;EAAN,CAAb;EACA,KAAK,CAAC,KAAN,CAAY,IAAI,CAAC,MAAL,CAAY,MAAZ,CAAZ,EAAiC,IAAjC;SACA,KAAK,CAAC,KAAN,CAAY,IAAI,CAAC,MAAL,CAAY,KAAZ,CAAZ,EAAgC,UAAhC;AAXA,CAAD,CAAA,CAAA,EAb2B;;;;;;AAgC3B,CAAC,QAAA,CAAA,CAAA;AACD,MAAA,kBAAA,EAAA,KAAA,EAAA,KAAA,EAAA;EAAO,qBAAN,MAAA,mBAAA,QAAiC,aAAjC;IAEC,WAAa,CAAA,CAAA;WACZ,CAAM,MAAN;IADY;;IAGb,QAAU,CAAA,CAAA;aACT,KAAA,CAAM,2CAAN;IADS;;IAGV,KAAO,CAAA,CAAA;MACN,IAAC,CAAA,WAAD,CAAa,MAAb;kBACM,CAAA,QAAN,CAAe,QAAf;IAFM;;IAIP,MAAQ,CAAA,CAAA;MACP,IAAC,CAAA,WAAD,CAAa,QAAb;kBACM,CAAA,QAAN,CAAe,OAAf;IAFO;;EAZT;EAgBA,KAAA,GAAQ,IAAI,kBAAJ,CAAA;EAER,KAAA,GAAQ,IAAI,kBAAJ,CAAA;EACR,KAAK,CAAC,KAAN,CAAA;EAEA,KAAA,GAAQ,IAAI,kBAAJ,CAAA;EACR,KAAK,CAAC,KAAN,CAAA;EACA,KAAK,CAAC,MAAN,CAAA;EAEA,KAAK,CAAC,MAAN,CAAa,KAAK,CAAC,OAAN,CAAc,MAAd,CAAb;EACA,KAAK,CAAC,MAAN,CAAa,KAAK,CAAC,OAAN,CAAc,QAAd,CAAb;EACA,KAAK,CAAC,MAAN,CAAa,KAAK,CAAC,OAAN,CAAc,OAAd,CAAb;EAEA,KAAK,CAAC,MAAN,CAAa,CAAA,CAAA,GAAA;WAAM,KAAK,CAAC,MAAN,CAAA;EAAN,CAAb;EACA,KAAK,CAAC,QAAN,CAAe,CAAA,CAAA,GAAA;WAAM,KAAK,CAAC,KAAN,CAAA;EAAN,CAAf;SACA,KAAK,CAAC,MAAN,CAAa,CAAA,CAAA,GAAA;WAAM,KAAK,CAAC,QAAN,CAAe,YAAf;EAAN,CAAb;AAhCA,CAAD,CAAA,CAAA",
  "sourcesContent": [
    "# state-machine.test.coffee\n\nimport {\n\tundef, defined, notdefined, pass, escapeStr,\n\t} from '@jdeighan/base-utils'\nimport {suppressExceptionLogging} from '@jdeighan/base-utils/exceptions'\nimport {utest} from '@jdeighan/base-utils/utest'\nimport {StateMachine} from '@jdeighan/base-utils/state-machine'\n\nsuppressExceptionLogging()\n\n# ---------------------------------------------------------------------------\n\n(() ->\n\tmach = new StateMachine('init', {flag: true, str: 'a string'})\n\n\tutest.truthy mach.inState('init')\n\tutest.falsy  mach.inState('not')\n\tutest.equal  mach.state, 'init'\n\tutest.succeeds () => mach.expectState('init','not')\n\tutest.throws () => mach.expectState('xxx','not')\n\tutest.succeeds () => mach.expectDefined('flag','str')\n\tutest.throws () => mach.expectDefined('flag','str','notdef')\n\tutest.equal mach.getVar('flag'), true\n\tutest.equal mach.getVar('str'), 'a string'\n\t)()\n\n# ---------------------------------------------------------------------------\n# A very simple machine with states and transitions:\n#\n#    init --FIRST--> middle --SECOND--> final\n\n(() ->\n\tclass SimpleStateMachine extends StateMachine\n\n\t\tconstructor: () ->\n\t\t\tsuper 'init'\n\n\t\tsetState: () ->\n\t\t\tcroak \"Don't call this class's setState() method\"\n\n\t\tFIRST: () ->\n\t\t\t@expectState 'init'\n\t\t\tsuper.setState 'middle'\n\n\t\tSECOND: () ->\n\t\t\t@expectState 'middle'\n\t\t\tsuper.setState 'final'\n\n\tmach1 = new SimpleStateMachine()\n\n\tmach2 = new SimpleStateMachine()\n\tmach2.FIRST()\n\n\tmach3 = new SimpleStateMachine()\n\tmach3.FIRST()\n\tmach3.SECOND()\n\n\tutest.truthy mach1.inState('init')\n\tutest.truthy mach2.inState('middle')\n\tutest.truthy mach3.inState('final')\n\n\tutest.throws () => mach1.SECOND()\n\tutest.succeeds () => mach1.FIRST()\n\tutest.throws () => mach1.setState('some state')\n\t)()\n"
  ]
}