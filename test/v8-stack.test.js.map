{
  "version": 3,
  "file": "v8-stack.test.js",
  "sourceRoot": "..\\",
  "sources": [
    "test\\v8-stack.test.coffee"
  ],
  "names": [],
  "mappings": "AAAsB;AAEtB,OAAA;EAAQ,MAAR;EAAgB,KAAhB;CAAA,MAAA;;AACA,OAAA;EACC,KADD;EACQ,OADR;EACiB,UADjB;CAAA,MAAA;;AAGA,OAAA;EAAQ,QAAR;CAAA,MAAA;;AACA,OAAA;EAAQ,GAAR;EAAa,QAAb;CAAA,MAAA;;AACA,OAAA;EACC,iBADD;EACoB,kBADpB;EAEC,UAFD;EAEa,YAFb;EAE2B,aAF3B;CAAA,MAAA;;AAIA,OAAA;EAAQ,OAAR;CAAA,MAAA;;AACA,OAAA;EAAQ,KAAR;CAAA,MAAA,6BAbsB;;;AAiBtB,CAAC,QAAA,CAAA,CAAA;AACD,MAAA,KAAA,EAAA,KAAA,EAAA,IAAA,EAAA,MAAA,EAAA;EAAC,MAAA,GAAS;EACT,MAAA,GAAS;EAET,IAAA,GAAO,QAAA,CAAA,CAAA;IACN,KAAA,CAAA;WACA,KAAA,CAAA;EAFM;EAIP,KAAA,GAAQ,QAAA,CAAA,CAAA;WACP,MAAA,GAAS,UAAA,CAAA;EADF;EAGR,KAAA,GAAQ,QAAA,CAAA,CAAA;IACP,MAAA,GAAS,UAAA,CAAA;EADF;EAIR,IAAA,CAAA;EACA,KAAK,CAAC,IAAN,CAAW,MAAX,EAAmB;IAClB;MACC,YAAA,EAAc;IADf,CADkB;GAAnB;SAKA,KAAK,CAAC,IAAN,CAAW,MAAX,EAAmB;IAClB;MACC,YAAA,EAAc;IADf,CADkB;GAAnB;AArBA,CAAD,CAAA,CAAA,EAjBsB;;;AA+CtB,CAAC,QAAA,CAAA,CAAA;AACD,MAAA,OAAA,EAAA,OAAA,EAAA,KAAA,EAAA,KAAA,EAAA;EAAC,OAAA,GAAU;EACV,OAAA,GAAU;EAEV,IAAA,GAAO,QAAA,CAAA,CAAA;IACN,KAAA,CAAA;WACA,KAAA,CAAA;EAFM;EAIP,KAAA,GAAQ,QAAA,CAAA,CAAA;WACP,OAAA,GAAU,iBAAA,CAAA;EADH;EAGR,KAAA,GAAQ,QAAA,CAAA,CAAA;IACP,OAAA,GAAU,iBAAA,CAAA;EADH;EAIR,IAAA,CAAA;EACA,KAAK,CAAC,IAAN,CAAW,OAAX,EAAoB;IACnB,YAAA,EAAc,MADK;IAEnB,QAAA,EAAU;EAFS,CAApB;SAIA,KAAK,CAAC,IAAN,CAAW,OAAX,EAAoB;IACnB,YAAA,EAAc,MADK;IAEnB,QAAA,EAAU;EAFS,CAApB;AApBA,CAAD,CAAA,CAAA,EA/CsB;;;AA2EtB,CAAC,QAAA,CAAA,CAAA;AACD,MAAA,KAAA,EAAA,KAAA,EAAA,OAAA,EAAA;EAAC,OAAA,GAAU;EAEV,IAAA,GAAO,QAAA,CAAA,CAAA;IACN,KAAA,CAAA;WACA,KAAA,CAAA;EAFM;EAIP,KAAA,GAAQ,QAAA,CAAA,CAAA,EAAA;EAGR,KAAA,GAAQ,QAAA,CAAA,CAAA;IACP,OAAA,GAAU,iBAAA,CAAA;EADH,EATT;;EAeC,IAAA,CAAA;SAEA,KAAK,CAAC,IAAN,CAAW,OAAX,EAAoB;IACnB,IAAA,EAAM,UADa;IAEnB,YAAA,EAAc,MAFK;IAGnB,QAAA,EAAU;EAHS,CAApB;AAlBA,CAAD,CAAA,CAAA,EA3EsB;;;AAuGtB,CAAC,QAAA,CAAA,CAAA;AACD,MAAA,KAAA,EAAA,KAAA,EAAA,SAAA,EAAA,SAAA,EAAA;EAAC,SAAA,GAAY;EACZ,SAAA,GAAY;EAEZ,IAAA,GAAO,QAAA,CAAA,CAAA;IACN,KAAA,CAAA;WACA,KAAA,CAAA;EAFM;EAIP,KAAA,GAAQ,QAAA,CAAA,CAAA;WACP,SAAA,GAAY,OAAA,CAAA;EADL;EAGR,KAAA,GAAQ,QAAA,CAAA,CAAA;IACP,SAAA,GAAY,OAAA,CAAA;EADL;EAIR,IAAA,CAAA;EACA,KAAK,CAAC,IAAN,CAAW,SAAS,CAAC,CAAD,CAApB,EAAyB;IACxB,IAAA,EAAM,UADkB;IAExB,YAAA,EAAc,YAFU;IAGxB,QAAA,EAAU;EAHc,CAAzB;EAKA,KAAK,CAAC,IAAN,CAAW,SAAS,CAAC,CAAD,CAApB,EAAyB;IACxB,IAAA,EAAM,UADkB;IAExB,YAAA,EAAc,OAFU;IAGxB,QAAA,EAAU;EAHc,CAAzB;EAKA,KAAK,CAAC,IAAN,CAAW,SAAS,CAAC,CAAD,CAApB,EAAyB;IACxB,IAAA,EAAM,UADkB;IAExB,YAAA,EAAc,YAFU;IAGxB,QAAA,EAAU;EAHc,CAAzB;SAKA,KAAK,CAAC,IAAN,CAAW,SAAS,CAAC,CAAD,CAApB,EAAyB;IACxB,IAAA,EAAM,UADkB;IAExB,YAAA,EAAc,OAFU;IAGxB,QAAA,EAAU;EAHc,CAAzB;AA/BA,CAAD,CAAA,CAAA,EAvGsB;;;AAgJtB,CAAC,KAAA,CAAA,CAAA,GAAA;AACD,MAAA,KAAA,EAAA;EAAC,KAAA,GAAQ,KAAA,CAAA,CAAA,GAAA;AACP,WAAO,CAAA,MAAM,KAAA,CAAA,CAAN;EADA;EAGR,KAAA,GAAQ,KAAA,CAAA,CAAA,GAAA;AACT,QAAA;IAAE,QAAA,GAAW,CAAA,MAAM,aAAA,CAAA,CAAN;AACX,WAAO;EAFA;SAIR,KAAK,CAAC,KAAN,CAAY,CAAA,MAAM,KAAA,CAAA,CAAN,CAAZ,EAA2B,CAAA;;iCAAA,CAA3B;AARA,CAAD,CAAA,CAAA,EAhJsB;;;AAkKtB,CAAC,KAAA,CAAA,CAAA,GAAA;AACD,MAAA,KAAA,EAAA;EAAC,KAAA,GAAQ,KAAA,CAAA,CAAA,GAAA;IACP,KAAA,CAAA;AACA,WAAO,CAAA,MAAM,aAAA,CAAc,OAAd,CAAN;EAFA;EAIR,KAAA,GAAQ,CAAA,CAAA,GAAA;AACT,QAAA;IAAE,CAAA,GAAI,CAAA,GAAI;AACR,WAAO;EAFA;SAIR,KAAK,CAAC,KAAN,CAAY,CAAA,MAAM,KAAA,CAAA,CAAN,CAAZ,EAA2B,CAAA;iCAAA,CAA3B;AATA,CAAD,CAAA,CAAA",
  "sourcesContent": [
    "# v8-stack.test.coffee\n\nimport {assert, croak} from '@jdeighan/base-utils/exceptions'\nimport {\n\tundef, defined, notdefined,\n\t} from '@jdeighan/base-utils'\nimport {fromTAML} from '@jdeighan/base-utils/taml'\nimport {LOG, LOGVALUE} from '@jdeighan/base-utils/log'\nimport {\n\tgetMyDirectCaller, getMyOutsideCaller,\n\tgetV8Stack, debugV8Stack, getV8StackStr,\n\t} from '@jdeighan/base-utils/v8-stack'\nimport {getBoth} from './v8-module.js'\nimport {utest} from '@jdeighan/base-utils/utest'\n\n# ---------------------------------------------------------------------------\n\n(() ->\n\tstack1 = undef\n\tstack2 = undef\n\n\tmain = () ->\n\t\tfunc1()\n\t\tfunc2()\n\n\tfunc1 = () ->\n\t\tstack1 = getV8Stack()\n\n\tfunc2 = () ->\n\t\tstack2 = getV8Stack()\n\t\treturn\n\n\tmain()\n\tutest.like stack1, [\n\t\t{\n\t\t\tfunctionName: 'func1'\n\t\t\t}\n\t\t]\n\tutest.like stack2, [\n\t\t{\n\t\t\tfunctionName: 'func2'\n\t\t\t}\n\t\t]\n\t)()\n\n# ---------------------------------------------------------------------------\n\n(() ->\n\tcaller1 = undef\n\tcaller2 = undef\n\n\tmain = () ->\n\t\tfunc1()\n\t\tfunc2()\n\n\tfunc1 = () ->\n\t\tcaller1 = getMyDirectCaller()\n\n\tfunc2 = () ->\n\t\tcaller2 = getMyDirectCaller()\n\t\treturn\n\n\tmain()\n\tutest.like caller1, {\n\t\tfunctionName: 'main'\n\t\tfileName: 'v8-stack.test.js'\n\t\t}\n\tutest.like caller2, {\n\t\tfunctionName: 'main'\n\t\tfileName: 'v8-stack.test.js'\n\t\t}\n\t)()\n\n# ---------------------------------------------------------------------------\n\n(() ->\n\thCaller = undef\n\n\tmain = () ->\n\t\tfunc1()\n\t\tfunc2()\n\n\tfunc1 = () ->\n\t\treturn\n\n\tfunc2 = () ->\n\t\thCaller = getMyDirectCaller()\n\t\treturn\n\n\t# ------------------------------------------------------------------------\n\n\tmain()\n\n\tutest.like hCaller, {\n\t\ttype: 'function'\n\t\tfunctionName: 'main'\n\t\tfileName: 'v8-stack.test.js'\n\t\t}\n\n\t)()\n\n# ---------------------------------------------------------------------------\n\n(() ->\n\tlCallers1 = undef\n\tlCallers2 = undef\n\n\tmain = () ->\n\t\tfunc1()\n\t\tfunc2()\n\n\tfunc1 = () ->\n\t\tlCallers1 = getBoth()\n\n\tfunc2 = () ->\n\t\tlCallers2 = getBoth()\n\t\treturn\n\n\tmain()\n\tutest.like lCallers1[0], {\n\t\ttype: 'function'\n\t\tfunctionName: 'secondFunc'\n\t\tfileName: 'v8-module.js'\n\t\t}\n\tutest.like lCallers1[1], {\n\t\ttype: 'function'\n\t\tfunctionName: 'func1'\n\t\tfileName: 'v8-stack.test.js'\n\t\t}\n\tutest.like lCallers2[0], {\n\t\ttype: 'function'\n\t\tfunctionName: 'secondFunc'\n\t\tfileName: 'v8-module.js'\n\t\t}\n\tutest.like lCallers2[1], {\n\t\ttype: 'function'\n\t\tfunctionName: 'func2'\n\t\tfileName: 'v8-stack.test.js'\n\t\t}\n\n\t)()\n\n# ---------------------------------------------------------------------------\n\n(() =>\n\tfunc1 = () =>\n\t\treturn await func2()\n\n\tfunc2 = () =>\n\t\tstackStr = await getV8StackStr()\n\t\treturn stackStr\n\n\tutest.equal await func1(), \"\"\"\n\t\tfunction at v8-stack.test.js:150:23\n\t\tfunction at v8-stack.test.js:147:19\n\t\tscript at v8-stack.test.js:162:29\n\t\t\"\"\"\n\n\t)()\n\n# ---------------------------------------------------------------------------\n\n(() =>\n\tfunc1 = () =>\n\t\tfunc2()\n\t\treturn await getV8StackStr('debug')\n\n\tfunc2 = () =>\n\t\tx = 2 * 2\n\t\treturn x\n\n\tutest.equal await func1(), \"\"\"\n\t\tfunction at v8-stack.test.js:166:19\n\t\tscript at v8-stack.test.js:179:29\n\t\t\"\"\"\n\t)()\n"
  ]
}