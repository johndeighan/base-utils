{
  "version": 3,
  "file": "for-each-file.js",
  "sourceRoot": "..\\..\\",
  "sources": [
    "src\\bin\\for-each-file.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "`#!/usr/bin/env node\r\n`\r\n# for-each-file.coffee\r\n\r\nimport {\r\n\tundef, defined, notdefined, nonEmpty, LOG, OL, execCmd,\r\n\t} from '@jdeighan/base-utils'\r\nimport {setDebugging} from '@jdeighan/base-utils/debug'\r\nimport {\r\n\tassert, croak,\r\n\t} from '@jdeighan/base-utils/exceptions'\r\nimport {parseCmdArgs} from '@jdeighan/base-utils/parse-cmd-args'\r\nimport {allFilesMatching} from '@jdeighan/base-utils/fs'\r\n\r\ndebug = false\r\ncmdStr = undef\r\ndir = undef\r\n\r\n# ---------------------------------------------------------------------------\r\n\r\nhandleFile = (filePath) =>\r\n\r\n\tif debug\r\n\t\tif defined(cmdStr)\r\n\t\t\tcmd = cmdStr.replaceAll('<file>', filePath)\r\n\t\t\tLOG \"CMD: #{cmd}\"\r\n\t\telse\r\n\t\t\tLOG \"FILE: #{filePath}\"\r\n\telse\r\n\t\tcmd = cmdStr.replaceAll('<file>', filePath)\r\n\t\texecCmd cmd\r\n\treturn\r\n\r\n# ---------------------------------------------------------------------------\r\n\r\nhandleGlob = (glob) =>\r\n\r\n\tif debug\r\n\t\tLOG \"GLOB: #{OL(glob)}\"\r\n\thOptions = {\r\n\t\tpattern: glob\r\n\t\teager: false\r\n\t\tcwd: dir\r\n\t\t}\r\n\r\n\tfor hFile from allFilesMatching(glob, hOptions)\r\n\t\t{filePath} = hFile\r\n\t\tif debug\r\n\t\t\tLOG \"   GLOB FILE: #{OL(filePath)}\"\r\n\t\thandleFile(hFile.filePath)\r\n\treturn\r\n\r\n# ---------------------------------------------------------------------------\r\n# --- Usage:\r\n#    for-each-file *.coffee -cmd=\"coffee -cm <file>\"\r\n\r\nhCmdArgs = parseCmdArgs({\r\n\thExpect: {\r\n\t\t_: [0,Number.MAX_VALUE]\r\n\t\td: 'boolean'     # debug mode - don't exec, just print\r\n\t\tdir: 'string'    # dir to search in, def = current dir\r\n\t\tglob: 'string'\r\n\t\tcmd: 'string'    # command to run (replace '<file>')\r\n\t\t}\r\n\t})\r\n\r\n# --- NOTE: debug, cmdStr and dir are global vars\r\n{_:lFiles, d:debug, dir, glob, cmd:cmdStr} = hCmdArgs\r\n\r\nif debug\r\n\tLOG \"DEBUGGING ON in for-each-file\"\r\n\tLOG 'hCmdArgs', hCmdArgs\r\n\tsetDebugging 'allFilesMatching'\r\nelse if notdefined(cmdStr)\r\n\tcroak \"-cmd option required unless debugging\"\r\n\r\nif notdefined(dir)\r\n\tdir = process.cwd()\r\n\tif debug\r\n\t\tLOG \"No dir provided, cur = #{OL(dir)}\"\r\n\r\n# --- First, cycle through all non-options files\r\n#     NOTE: any filename that contains '*' or '?'\r\n#           is treated as a glob\r\n\r\nif defined(lFiles)\r\n\tfor name in lFiles\r\n\t\tif name.includes('*') || name.includes('?')\r\n\t\t\tif debug\r\n\t\t\t\tLOG \"Glob as non-option: #{OL(name)}\"\r\n\t\t\thandleGlob(name)\r\n\t\telse\r\n\t\t\thandleFile(name)\r\n\r\n# --- Next, use glob if defined\r\n\r\nif defined(glob)\r\n\tLOG \"Glob option: #{OL(glob)}\"\r\n\thandleGlob(glob)\r\n"
  ]
}