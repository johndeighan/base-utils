{
  "version": 3,
  "file": "peggy.js",
  "sourceRoot": "..\\..\\",
  "sources": [
    "src\\lib\\peggy.coffee"
  ],
  "names": [],
  "mappings": "AAAc;AAAA,IAAA,QAAA,EAAA;;AAEd,OAAO,KAAP,MAAA;;AACA,CAAA,CAAC,QAAD,CAAA,GAAa,KAAb;;AAEA,OAAA;EACC,KADD;EACQ,EADR;EACY,OADZ;CAAA,MAAA;;AAGA,OAAA;EAAQ,MAAR;CAAA,MAAA;;AACA,OAAA;EACC,MADD;EACS,KADT;EACgB,IADhB;EACsB,OADtB;EAC+B,YAD/B;CAAA,MAAA;;AAIA,aAAA,GAAgB;EACf,iBAAA,EAAmB,CAAC,GAAD,CADJ;EAEf,MAAA,EAAQ,IAFO;EAGf,MAAA,EAAQ;AAHO,EAbF;;;AAqBd,OAAA,IAAO,OAAA,GAAU,CAAC,SAAD,EAAY,MAAZ,CAAA,GAAA;AAEjB,MAAA,GAAA,EAAA,CAAA,EAAA;EAAC,MAAA,CAAO,MAAA,CAAO,MAAP,CAAP,EAAuB,CAAA,YAAA,CAAA,CAAe,EAAA,CAAG,MAAH,CAAf,CAAA,CAAvB;AACA;IACC,aAAa,CAAC,aAAd,GAA8B;IAC9B,OAAA,GAAU,QAAA,CAAS,SAAT,EAAoB,aAApB;IACV,CAAA,GAAI,OAAO,CAAC,qBAAR,CAAA;AACJ,WAAO,CAAC,CAAC,CAAC,IAAH,EAAS,CAAC,CAAC,GAAG,CAAC,QAAN,CAAA,CAAT,EAJR;GAKA,aAAA;IAAM;IACL,OAAO,CAAC,GAAR,CAAY,CAAA,OAAA,CAAA,CAAU,GAAG,CAAC,OAAd,CAAA,CAAZ;AACA,WAAO,CAAC,KAAD,EAAQ,KAAR,EAFR;;AARgB,EArBH;;;AAmCd,OAAA,IAAO,WAAA,GAAc,CAAC,QAAD,CAAA,GAAA;AAErB,MAAA,MAAA,EAAA,MAAA,EAAA,QAAA,EAAA;EAAC,CAAA,CAAC,QAAD,EAAW,MAAX,CAAA,GAAqB,YAAA,CAAa,QAAb,CAArB;EACA,CAAC,MAAD,EAAS,SAAT,CAAA,GAAsB,OAAA,CAAQ,OAAA,CAAQ,MAAR,CAAR,EAAyB,QAAzB;EACtB,IAAA,CAAK,MAAL,EAAa,OAAA,CAAQ,QAAR,EAAkB,KAAlB,CAAb;EACA,IAAA,CAAK,SAAL,EAAgB,OAAA,CAAQ,QAAR,EAAkB,SAAlB,CAAhB;AALoB",
  "sourcesContent": [
    "# peggy.coffee\r\n\r\nimport peggy from 'peggy'\r\n{generate} = peggy\r\n\r\nimport {\r\n\tundef, OL, toBlock,\r\n\t} from '@jdeighan/base-utils'\r\nimport {assert} from '@jdeighan/base-utils/exceptions'\r\nimport {\r\n\tisFile, slurp, barf, withExt, readTextFile,\r\n\t} from '@jdeighan/base-utils/fs'\r\n\r\nhPeggyOptions = {\r\n\tallowedStartRules: ['*']\r\n\tformat: 'es'\r\n\toutput: 'source-and-map'\r\n\t}\r\n\r\n# ---------------------------------------------------------------------------\r\n\r\nexport peggify = (peggyCode, source) =>\r\n\r\n\tassert isFile(source), \"Not a file: #{OL(source)}\"\r\n\ttry\r\n\t\thPeggyOptions.grammarSource = source\r\n\t\tsrcNode = generate(peggyCode, hPeggyOptions)\r\n\t\th = srcNode.toStringWithSourceMap()\r\n\t\treturn [h.code, h.map.toString()]\r\n\tcatch err\r\n\t\tconsole.log \"ERROR: #{err.message}\"\r\n\t\treturn [undef, undef]\r\n\r\n# ---------------------------------------------------------------------------\r\n\r\nexport peggifyFile = (filePath) =>\r\n\r\n\t{metadata, lLines} = readTextFile(filePath)\r\n\t[jsCode, sourceMap] = peggify toBlock(lLines), filePath\r\n\tbarf jsCode, withExt(filePath, '.js')\r\n\tbarf sourceMap, withExt(filePath, '.js.map')\r\n\treturn\r\n"
  ]
}